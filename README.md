# point-system

### 설정
> 최대 포인트 충전 금액은 1,000,000원으로 설정합니다.

### 테스트 시나리오
1. `PATCH /point/{id}/charge` - 포인트 충전

🟢 **성공 시나리오**
- [ ] 충전 성공: 유효한 ID와 충전 금액으로 포인트 충전이 성공한다
- [ ] 기존 포인트에 추가: 기존 포인트에 충전 금액이 정확히 추가된다
- [ ] 히스토리 생성: 충전 시 포인트 히스토리가 생성된다

🔴 **실패 시나리오**
- [ ] 존재하지 않는 ID: 존재하지 않는 사용자 ID로 충전 시도 시 실패한다
- [ ] 음수 충전: 음수 금액으로 충전 시도 시 실패한다
- [ ] null/빈 값: 충전 금액이 null이거나 빈 값일 때 실패한다
- [ ] 최대 금액 초과: 시스템에서 허용하는 최대 포인트를 초과하여 충전 시도 시 실패한다

2. `PATCH /point/{id}/use` - 포인트 사용

🟢 **성공 시나리오**
- [ ] 사용 성공: 충분한 잔고가 있을 때 포인트 사용이 성공한다
- [ ] 정확한 차감: 현재 포인트에서 사용 금액이 정확히 차감된다
- [ ] 히스토리 생성: 사용 시 포인트 히스토리가 생성된다

🔴 실패 시나리오
- [ ] 잔고 부족: 현재 포인트보다 많은 금액 사용 시도 시 실패한다
- [ ] 존재하지 않는 ID: 존재하지 않는 사용자 ID로 사용 시도 시 실패한다
- [ ] 음수 사용: 음수 금액으로 사용 시도 시 실패한다
- [ ] null/빈 값: 사용 금액이 null이거나 빈 값일 때 실패한다

3. `GET /point/{id}` - 포인트 조회

🟢 **성공 시나리오**

- [ ] 조회 성공: 유효한 ID로 현재 포인트를 조회할 수 있다
- [ ] 초기 포인트: 처음 생성된 사용자의 포인트는 0이다
- [ ] 실시간 반영: 충전/사용 후 변경된 포인트가 즉시 반영된다

🔴 **실패 시나리오**

- [ ] 존재하지 않는 ID: 존재하지 않는 사용자 ID로 조회 시 실패한다
- [ ] null ID: ID가 null일 때 실패한다

4. `GET /point/{id}/histories` - 포인트 히스토리 조회
🟢 **성공 시나리오**

- [ ] 히스토리 조회 성공: 유효한 ID로 포인트 히스토리 목록을 조회할 수 있다
- [ ] 빈 히스토리: 거래 내역이 없는 사용자의 히스토리는 빈 배열이다
- [ ] 시간순 정렬: 히스토리는 시간순으로 정렬되어 반환된다
- [ ] 충전 히스토리: 충전 내역이 히스토리에 기록된다
- [ ] 사용 히스토리: 사용 내역이 히스토리에 기록된다
- [ ] 상세 정보: 각 히스토리는 거래 유형, 금액, 시간, 잔고 등을 포함한다

🔴 실패 시나리오
- [ ] 존재하지 않는 ID: 존재하지 않는 사용자 ID로 히스토리 조회 시 실패한다
- [ ] null ID: ID가 null일 때 실패한다
